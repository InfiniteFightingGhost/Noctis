APP_NAME=noctis-ml-api
ENV=local
LOG_LEVEL=INFO

API_V1_PREFIX=/v1
AUTH_HEADER=Authorization
JWT_ISSUER=noctis
JWT_AUDIENCE=noctis-services
JWT_ALLOWED_ALGORITHMS=["RS256","HS256"]
JWT_LEEWAY_SECONDS=30
DEFAULT_TENANT_ID=00000000-0000-0000-0000-000000000001

CORS_ALLOW_ORIGINS=["*"]
CORS_ALLOW_METHODS=["*"]
CORS_ALLOW_HEADERS=["*"]

DATABASE_URL=postgresql+psycopg://postgres:postgres@timescaledb:5432/noctis
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

MODEL_REGISTRY_PATH=models
ACTIVE_MODEL_VERSION=active
FEATURE_SCHEMA_VERSION=v1
WINDOW_SIZE=21
ALLOW_WINDOW_PADDING=false

METRICS_ENABLED=true

EPOCHS_RETENTION_DAYS=90
PREDICTIONS_RETENTION_DAYS=180
EPOCHS_COMPRESSION_AFTER_DAYS=7
TIMESCALE_CHUNK_INTERVAL_DAYS=1
TIMESCALE_COMPRESSION_SEGMENTBY=recording_id

AUDIT_POLL_INTERVAL_SECONDS=900
AUDIT_MAX_REPORT_ROWS=500
AUDIT_EPOCH_GAP_SECONDS=30

SLO_INFERENCE_P95_MS=350
SLO_INFERENCE_P99_MS=700
SLO_INGEST_FAILURE_RATE=0.01
SLO_DB_COMMIT_P95_MS=200
SLO_MODEL_RELOAD_SUCCESS_RATE=0.99

BACKUP_DIR=backups
