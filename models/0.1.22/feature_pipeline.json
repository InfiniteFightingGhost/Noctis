{
  "base_feature_schema": [
    "in_bed_pct",
    "hr_mean",
    "hr_std",
    "dhr",
    "rr_mean",
    "rr_std",
    "drr",
    "large_move_pct",
    "minor_move_pct",
    "turnovers_delta",
    "apnea_delta",
    "flags",
    "vib_move_pct",
    "vib_resp_q",
    "agree_flags"
  ],
  "engineered_features": [
    "hr_cv",
    "rr_cv",
    "instability",
    "move_total",
    "move_ratio",
    "stillness",
    "hr_rr_ratio",
    "var_ratio",
    "resp_instability",
    "vib_resp_instability",
    "low_agreement"
  ],
  "final_feature_schema": [
    "in_bed_pct",
    "hr_mean",
    "hr_std",
    "dhr",
    "rr_mean",
    "rr_std",
    "drr",
    "large_move_pct",
    "minor_move_pct",
    "turnovers_delta",
    "apnea_delta",
    "flags",
    "vib_move_pct",
    "vib_resp_q",
    "agree_flags",
    "hr_cv",
    "rr_cv",
    "instability",
    "move_total",
    "move_ratio",
    "stillness",
    "hr_rr_ratio",
    "var_ratio",
    "resp_instability",
    "vib_resp_instability",
    "low_agreement"
  ],
  "engineered_formulas": {
    "hr_cv": "hr_std / (abs(hr_mean) + 1e-6)",
    "rr_cv": "rr_std / (abs(rr_mean) + 1e-6)",
    "instability": "hr_std + rr_std + abs(dhr) + abs(drr)",
    "move_total": "large_move_pct + minor_move_pct + vib_move_pct",
    "move_ratio": "large_move_pct / (minor_move_pct + 1e-6)",
    "stillness": "1 - clip(move_total, 0, 1)",
    "hr_rr_ratio": "hr_mean / (rr_mean + 1e-6)",
    "var_ratio": "hr_std / (rr_std + 1e-6)",
    "resp_instability": "apnea_delta * rr_std",
    "vib_resp_instability": "vib_resp_q * rr_std",
    "low_agreement": "1 if agree_flags < train_quantile_0.15(agree_flags) else 0"
  },
  "eps": 1e-06,
  "low_agreement_threshold": 0.0,
  "requires_flags": true,
  "requires_agree_flags": true
}