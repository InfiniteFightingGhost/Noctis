dataset_dir: out/snapshots/pretrain_80_20
output_root: models
feature_schema_path: out/snapshots/pretrain_80_20/feature_schema.json
model_type: cnn_bilstm
feature_strategy: sequence
random_seed: 42
split_strategy: recording
split_seed: 42
split_grouping_key: recording_id
split_time_aware: false
split_grouped_stratification: false
split_stratify_key: dataset_rem_bucket
evaluation_split_policy: val_or_test
enforce_label_map_order: true
version_bump: patch
experiment_name: fastfunnel_e01_baseline

model:
  use_dataset_conditioning: true
  conditioning_mode: onehot
  conditioning_embed_dim: 8
  conv_channels: [32, 64]
  conv_kernel_size: 3
  conv_dropout: 0.15
  lstm_hidden_size: 128
  lstm_layers: 2
  lstm_dropout: 0.1
  head_hidden_dims: [64]
  head_dropout: 0.2
  use_residual_blocks: false
  dilation_schedule: [1, 2]

training:
  batch_size: 128
  max_epochs: 14
  early_stopping_patience: 6
  early_stopping_min_delta: 0.001
  loss_type: weighted_ce
  focal_gamma: 2.0
  auxiliary_loss_lambda: 0.3
  learning_rate: 0.001
  weight_decay: 0.0001
  optimizer_beta1: 0.9
  optimizer_beta2: 0.999
  scheduler_type: plateau
  scheduler_factor: 0.5
  scheduler_patience: 2
  scheduler_min_lr: 1.0e-6
  gradient_clip_norm: 1.0
  instability_macro_f1_threshold: 0.15
  n2_class_weight_multiplier: 0.85
  enable_domain_transfer_tests: false
  enable_binary_pretraining: true
  pretrain_epochs: 14
  pretrain_lr_scale: 1.0
  pretrain_freeze_primary_head: true
  class_weight_strategy: log_balanced
  focal_fallback_enabled: true
  focal_fallback_gamma: 2.0
  focal_trigger_rem_recall: 0.65
  focal_trigger_patience: 2
  normalization_policy: recording_zscore_then_global
  hard_mining_enabled: false
  hard_mining_fraction: 0.1
  hard_mining_oversample_factor: 2.0
