{
  "dataset_dir": "out/snapshots/pretrain_80_20",
  "output_root": "models",
  "feature_schema_path": "out/snapshots/pretrain_80_20/feature_schema.json",
  "dataset_snapshot_id": null,
  "model_type": "cnn_bilstm",
  "random_seed": 42,
  "class_balance": "none",
  "feature_strategy": "sequence",
  "allow_predicted_labels": false,
  "split_strategy": "recording",
  "split_seed": 42,
  "split_grouping_key": "recording_id",
  "split_time_aware": false,
  "evaluation_split_policy": "val_or_test",
  "enforce_label_map_order": true,
  "hyperparameters": {},
  "search": {
    "method": "random",
    "param_grid": {},
    "n_iter": 5,
    "cv_folds": 3
  },
  "version_bump": "patch",
  "experiment_name": "phase_a_multidomain_pretrain",
  "metrics_thresholds": {},
  "model": {
    "use_dataset_conditioning": true,
    "conditioning_mode": "onehot",
    "conditioning_embed_dim": 8,
    "conv_channels": [64, 128],
    "conv_kernel_size": 3,
    "conv_dropout": 0.4,
    "lstm_hidden_size": 128,
    "lstm_layers": 2,
    "lstm_dropout": 0.1,
    "head_hidden_dims": [128],
    "head_dropout": 0.4,
    "use_residual_blocks": true,
    "dilation_schedule": [1, 2]
  },
  "training": {
    "batch_size": 128,
    "max_epochs": 40,
    "early_stopping_patience": 6,
    "early_stopping_min_delta": 0.0005,
    "loss_type": "weighted_ce",
    "focal_gamma": 1.5,
    "auxiliary_loss_lambda": 0.3,
    "learning_rate": 0.001,
    "weight_decay": 0.0001,
    "optimizer_beta1": 0.9,
    "optimizer_beta2": 0.999,
    "scheduler_type": "plateau",
    "scheduler_factor": 0.5,
    "scheduler_patience": 2,
    "scheduler_min_lr": 1e-06,
    "gradient_clip_norm": 1.0,
    "instability_macro_f1_threshold": 0.15,
    "n2_class_weight_multiplier": 1.0,
    "enable_domain_transfer_tests": false,
    "enable_binary_pretraining": true,
    "pretrain_epochs": 8,
    "pretrain_lr_scale": 1.0,
    "pretrain_freeze_primary_head": true,
    "class_weight_strategy": "log_balanced",
    "focal_fallback_enabled": true,
    "focal_fallback_gamma": 2.0,
    "focal_trigger_rem_recall": 0.4,
    "focal_trigger_patience": 2,
    "normalization_policy": "recording_zscore_then_global",
    "hard_mining_enabled": true,
    "hard_mining_fraction": 0.1,
    "hard_mining_oversample_factor": 2.0
  }
}
